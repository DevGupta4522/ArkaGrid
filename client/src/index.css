@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --volt-green: #00FF94;
  --volt-dark: #0A0E1A;
  --volt-surface: #111827;
  --volt-border: #1F2937;
  --volt-amber: #F59E0B;
  --volt-red: #FF4444;
  --volt-blue: #3B82F6;
  --text-primary: #F9FAFB;
  --text-muted: #6B7280;
}

/* Base dark theme */
body {
  margin: 0;
  padding: 0;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: var(--volt-dark);
  color: var(--text-primary);
  min-height: 100vh;
}

html,
body,
#root {
  height: 100%;
  width: 100%;
}

html {
  scroll-behavior: smooth;
}

::selection {
  background: rgba(0, 255, 148, 0.2);
  color: #F9FAFB;
}

/* ── Gradient Mesh Background for auth pages ── */
.auth-gradient-bg {
  background:
    radial-gradient(ellipse at 20% 50%, rgba(0, 255, 148, 0.08) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 20%, rgba(59, 130, 246, 0.06) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 80%, rgba(245, 158, 11, 0.04) 0%, transparent 50%),
    var(--volt-dark);
  background-size: 200% 200%;
  animation: gradientShift 12s ease infinite;
}

@keyframes gradientShift {

  0%,
  100% {
    background-position: 0% 50%;
  }

  25% {
    background-position: 50% 0%;
  }

  50% {
    background-position: 100% 50%;
  }

  75% {
    background-position: 50% 100%;
  }
}

/* ── Animated mesh for left panel ── */
.mesh-gradient {
  background:
    radial-gradient(at 0% 0%, rgba(0, 255, 148, 0.15) 0%, transparent 50%),
    radial-gradient(at 100% 0%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
    radial-gradient(at 100% 100%, rgba(0, 255, 148, 0.08) 0%, transparent 50%),
    radial-gradient(at 0% 100%, rgba(245, 158, 11, 0.06) 0%, transparent 50%),
    var(--volt-dark);
  background-size: 200% 200%;
  animation: meshMove 15s ease infinite;
}

@keyframes meshMove {

  0%,
  100% {
    background-position: 0% 0%;
  }

  25% {
    background-position: 100% 0%;
  }

  50% {
    background-position: 100% 100%;
  }

  75% {
    background-position: 0% 100%;
  }
}

@layer components {

  /* ── Buttons ── */
  .btn-primary {
    @apply px-5 py-2.5 bg-volt-green text-volt-dark rounded-xl font-semibold shadow-md shadow-volt-green/20 hover:shadow-lg hover:shadow-volt-green/30 hover:-translate-y-0.5 active:translate-y-0 active:shadow-md active:scale-[0.97] transition-all duration-200 ease-out;
  }

  .btn-secondary {
    @apply px-5 py-2.5 bg-volt-surface text-gray-300 rounded-xl border border-volt-border font-semibold shadow-sm hover:bg-volt-border hover:text-white hover:shadow-md hover:-translate-y-0.5 active:translate-y-0 active:scale-[0.97] transition-all duration-200 ease-out;
  }

  .btn-danger {
    @apply px-5 py-2.5 bg-danger-400 text-white rounded-xl font-semibold shadow-md shadow-danger-400/20 hover:bg-danger-500 hover:shadow-lg hover:shadow-danger-400/30 hover:-translate-y-0.5 active:translate-y-0 active:shadow-md active:scale-[0.97] transition-all duration-200 ease-out;
  }

  .btn-accent {
    @apply px-5 py-2.5 bg-accent-500 text-white rounded-xl font-semibold shadow-md shadow-accent-500/20 hover:bg-accent-600 hover:shadow-lg hover:shadow-accent-500/30 hover:-translate-y-0.5 active:translate-y-0 active:shadow-md active:scale-[0.97] transition-all duration-200 ease-out;
  }

  .btn-ghost {
    @apply px-4 py-2 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 active:scale-[0.97] transition-all duration-200;
  }

  /* ── Form inputs ── */
  .form-input {
    @apply w-full px-4 py-3 bg-volt-border/50 border border-volt-border rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-volt-green/40 focus:border-volt-green/60 hover:border-gray-500 transition-all duration-200;
  }

  .form-label {
    @apply block text-sm font-semibold text-gray-400 mb-1.5;
  }

  /* ── Cards ── */
  .card {
    @apply bg-volt-surface/80 backdrop-blur-sm rounded-2xl border border-volt-border/60 p-6 transition-all duration-300;
  }

  .card-hover {
    @apply card hover:border-volt-green/30 hover:shadow-glow-green cursor-pointer;
  }

  .card-glass {
    @apply bg-volt-surface/40 backdrop-blur-xl rounded-2xl border border-volt-border/40 p-6;
  }

  .card-glass-green {
    @apply bg-volt-green/5 backdrop-blur-xl rounded-2xl border border-volt-green/20 p-6;
  }

  /* ── Badges ── */
  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-bold tracking-wide uppercase;
  }

  .badge-success {
    @apply bg-volt-green/10 text-volt-green ring-1 ring-volt-green/30;
  }

  .badge-warning {
    @apply bg-accent-500/10 text-accent-400 ring-1 ring-accent-500/30;
  }

  .badge-danger {
    @apply bg-danger-400/10 text-danger-400 ring-1 ring-danger-400/30;
  }

  .badge-info {
    @apply bg-vblue-400/10 text-vblue-400 ring-1 ring-vblue-400/30;
  }

  .badge-neutral {
    @apply bg-gray-700/50 text-gray-400 ring-1 ring-gray-600;
  }

  /* ── Page container ── */
  .page-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8;
  }

  .page-title {
    @apply text-3xl sm:text-4xl font-bold text-white mb-2 tracking-tight font-heading;
  }

  .page-subtitle {
    @apply text-gray-500 text-lg mb-8;
  }

  /* ── Stat cards ── */
  .stat-card {
    @apply card-hover flex items-center gap-4 p-5;
  }

  .stat-icon {
    @apply w-14 h-14 rounded-2xl flex items-center justify-center flex-shrink-0;
  }

  /* ── Modal overlay ── */
  .modal-overlay {
    @apply fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in;
  }

  .modal-content {
    @apply bg-volt-surface rounded-2xl max-w-md w-full p-6 shadow-2xl animate-slide-up border border-volt-border;
  }

  /* ── Tabs ── */
  .tab-container {
    @apply flex gap-1 mb-8 bg-volt-dark rounded-xl p-1 border border-volt-border;
  }

  .tab-button {
    @apply px-5 py-2.5 rounded-lg font-semibold text-sm transition-all duration-200 text-gray-500 hover:text-gray-300;
  }

  .tab-button-active {
    @apply bg-volt-surface text-volt-green shadow-sm;
  }

  /* ── Skeleton loading ── */
  .skeleton {
    @apply bg-gradient-to-r from-volt-border via-volt-surface to-volt-border bg-[length:200%_100%] animate-shimmer rounded-lg;
  }

  /* ── Monospace values (currency + kWh) ── */
  .mono-value {
    @apply font-mono tabular-nums tracking-tight;
  }
}

/* ── Custom scrollbar (dark) ── */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(0, 255, 148, 0.15);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 255, 148, 0.3);
}

/* ── Pulsing green dot ── */
.live-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #00FF94;
  box-shadow: 0 0 6px rgba(0, 255, 148, 0.6);
  animation: livePulse 2s ease-in-out infinite;
}

@keyframes livePulse {

  0%,
  100% {
    box-shadow: 0 0 4px rgba(0, 255, 148, 0.4);
  }

  50% {
    box-shadow: 0 0 12px rgba(0, 255, 148, 0.8);
  }
}

/* ── Stagger animation delays ── */
.stagger-1 {
  animation-delay: 0.0s;
}

.stagger-2 {
  animation-delay: 0.1s;
}

.stagger-3 {
  animation-delay: 0.2s;
}

.stagger-4 {
  animation-delay: 0.3s;
}

.stagger-5 {
  animation-delay: 0.4s;
}

.stagger-6 {
  animation-delay: 0.5s;
}

/* ── Range slider styling ── */
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 6px;
  background: var(--volt-border);
  border-radius: 4px;
  outline: none;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  background: var(--volt-green);
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 0 8px rgba(0, 255, 148, 0.4);
}

input[type="range"]::-moz-range-thumb {
  width: 18px;
  height: 18px;
  background: var(--volt-green);
  border-radius: 50%;
  border: none;
  cursor: pointer;
  box-shadow: 0 0 8px rgba(0, 255, 148, 0.4);
}

/* ── Hide number input spinners ── */
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

/* ── Leaflet dark theme overrides ── */
.leaflet-container {
  background: var(--volt-dark) !important;
}

.leaflet-tile-pane {
  /* removed CSS filters so actual map tiles render correctly */
}

.leaflet-control-zoom a {
  background: var(--volt-surface) !important;
  color: var(--text-primary) !important;
  border-color: var(--volt-border) !important;
}

/* ── Recharts dark theme overrides ── */
.recharts-cartesian-grid line {
  stroke: var(--volt-border) !important;
}

.recharts-text {
  fill: var(--text-muted) !important;
}

/* ── Confetti canvas ── */
.confetti-canvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
}